<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />
    <title>Document</title>
    <link rel="stylesheet" href="./src/style.css" />
  </head>
  <body>
    <div id="root" class="container">
      <h1 class="text-center my-4" contenteditable>Hello World!</h1>
      <div class="row">
        <div class="col-12 col-sm-3 col-md-2">
          <div class="form-group">
            <label for="inputSizeL">Size L</label>
            <input
              class="form-control"
              type="number"
              id="inputSizeL"
              v-bind:class="{'is-invalid': !areaInp.L.valid}"
              v-model="areaInp.L.size"
            />
            <div class="invalid-feedback">{{ areaInp.L.message }}</div>
          </div>

          <div class="form-group">
            <label for="inputSizeM">Size M</label>
            <input
              class="form-control"
              type="number"
              id="inputSizeM"
              v-bind:class="{'is-invalid': !areaInp.M.valid}"
              v-model="areaInp.M.size"
            />
            <div class="invalid-feedback">{{ areaInp.M.message }}</div>
          </div>

          <div class="form-group">
            <label for="inputSizeN">Size N</label>

            <input
              class="form-control"
              type="number"
              id="inputSizeN"
              v-bind:class="{'is-invalid': !areaInp.N.valid}"
              v-model="areaInp.N.size"
            />
            <div class="invalid-feedback">{{ areaInp.N.message }}</div>
          </div>

          <button
            type="button"
            class="btn btn-primary col mb-2"
            v-on:click="renderHexagons"
          >
            Сгенерировать
          </button>
          <div class="d-flex align-items-xl-start mb-2">
            <button
              class="btn btn-dark mr-2"
              :disabled="!shapesArr.length"
              v-on:click="autoSet"
            >
              Auto
            </button>
            <div>
              <input
                class="form-control"
                type="number"
                id="inputRandom"
                min="0.1"
                max="0.9"
                step="0.1"
                v-bind:class="{'is-invalid': !autoInp.random.valid}"
                v-model="autoInp.random.value"
                :disabled="!shapesArr.length"
              />
              <div class="invalid-feedback">{{ autoInp.random.message }}</div>
            </div>
          </div>
          <button
            type="button"
            class="btn btn-success col"
            v-on:click="renderDomens"
            :disabled="!shapesArr.length"
          >
            Посчитать
          </button>
          <b>{{domens.length}}</b>
        </div>

        <div class="col d-flex justify-content-center">
          <div id="hexagon-holder">
            <div
              v-for="(hexagon, i) in shapesArr"
              class="hexagon"
              :id="hexagon.id"
              :style="hexagon.style"
              @click="changeValue(hexagon.id)"
            >
              <!-- <b>{{ hexagon.value }}</b> -->
              <i :style="{fontWeight: hexagon.value ? 900 : 100}"
                >{{ hexagon.id }}</i
              >
            </div>
          </div>
        </div>
      </div>
      <table id="table">
        <thead>
          <tr>
            <th rowspan="2">Вероятность</th>
            <th colspan="2">Количество доменов в решётке</th>
            <th rowspan="2">
              Количество ячеек в решётке (L;N;M), из них имеющих значение 1
            </th>
          </tr>
          <tr>
            <th>Всего</th>
            <th>С дыркой</th>
          </tr>
        </thead>
        <tbody v-for="row in table">
          <tr>
            <td id="random">{{ row.random }}</td>
            <td id="cout-all">{{ row.domensCount }}</td>
            <td id="cout-hole">{{ NaN }}</td>
            <td id="shapes">{{ row.shapes }}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12"></script>
    <script src="./index.js"></script>
  </body>
</html>
